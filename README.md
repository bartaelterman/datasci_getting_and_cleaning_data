# datascience getting and cleaning data

Programming assignment for coursera's getting and cleaning data course

## What's in this repository:

### The analysis script

**file**: [run_analysis.R](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R)

This script should be run from within the Samsung dataset folder. If you unzipped the datafile that was available from the coursera course, this folder is named `UCI HAR Dataset`:

        cd UCI\ HAR\ Dataset
        Rscript run_analysis.R

This script will create two output files:

1. `ucihar_tidy_data.txt`: the tidy dataset based on the raw Samsung data.
2. `average_data.txt`: a separate dataset that contains an average for every measurement per subject and activity.

#### What does it do?

1. [Read the feature names](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L4) and [create a logical vector](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L7) where the feature name contains `mean` or `std`. This vector (`meansAndStds`) will be used to select only mean and standard deviation data from the data set.
2. [Create nice featurenames](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L14) by removing the brackets in the feature names and replacing `-` by `.`.
3. [Read the activity labels](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L20). 
4. The [function `readData`](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L22) will read in the measurements from the accelerometer and gyroscope, the resulting activity that the measurements correspond to, and the subjects who perfomed the activity. The default column names are [replaced by the nice feature names](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L35) and the activities column is [replaced by a factor](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L41) with the activity labels that are documented in the `activity_labels.txt` file from the data set. This function is applied on both the [test dataset](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L54) and the [test dataset](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L57). 
5. The two data sets [are combined](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L60) to get one tidy dataset `tidyData` and [written to a file](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L61).
6. The data set is [split per subject](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L64) and for every resulting data set [every measurement is averaged per activity](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L65). The aggregated data sets are again [combined](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L71) and [written to a file](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/run_analysis.R#L75).

### CodeBook.md

**file**: [CodeBook.md](https://github.com/bartaelterman/datasci_getting_and_cleaning_data/blob/master/CodeBook.R)

The code book describes all columns in the output files that are generated by `run_analysis.R`.
